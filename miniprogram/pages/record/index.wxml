<!--听写记录页面-->
<view class="container">
  <!-- 自定义导航栏 -->
  <custom-header title="听写记录" showBack="{{false}}" bind:heightChange="onHeaderHeightChange"></custom-header>

  <!-- 记录列表 -->
  <scroll-view scroll-y class="record-list">
    <block wx:if="{{recordList.length > 0}}">
      <view class="record-item" wx:for="{{recordList}}" wx:key="id" bindtap="viewDetail" data-id="{{item.id}}">
        <view class="record-header">
          <view class="record-info">
            <view class="record-title-row">
              <text class="record-title">{{item.title}}</text>
              <view class="record-image" wx:if="{{item.imageUrl}}" catchtap="previewImage" data-url="{{item.imageUrl}}">
                <image src="{{item.imageUrl}}" mode="aspectFill"></image>
              </view>
            </view>
            <view class="record-time">{{item.date}} {{item.time}}</view>
          </view>
        </view>
        <view class="record-content">
          <view class="record-stats">
            <view class="stat-item">
              <text class="stat-value">{{item.words}}</text>
              <text class="stat-label">单词总数</text>
            </view>
            <view class="stat-item">
              <text class="stat-value wrong">{{item.errorWords}}</text>
              <text class="stat-label">错误单词</text>
            </view>
            <view class="stat-item">
              <text class="stat-value">{{item.correctRate}}%</text>
              <text class="stat-label">正确率</text>
            </view>
          </view>
        </view>
      </view>
    </block>
    <view class="empty-list" wx:else>
      <view class="empty-icon">📝</view>
      <view class="empty-text">暂无听写记录</view>
      <view class="empty-tip">快去开始听写吧</view>
    </view>
  </scroll-view>

  <!-- 提示下拉刷新文本 -->
  <view class="pull-tip">下拉可以刷新记录</view>
</view> 