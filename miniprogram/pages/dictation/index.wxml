<!--听写进行中页面-->
<view class="container">
  <!-- 使用Vant导航栏组件 -->
  <van-nav-bar
    title="听写中({{currentIndex + 1}}/{{totalWords}})"
    left-text="返回"
    left-arrow
    fixed
    placeholder
    safe-area-inset-top
    bind:click-left="onBackClick"
    custom-class="custom-nav"
    title-class="nav-title"
  />

  <view class="content">
    <!-- 播放动画区域 -->
    <view class="audio-animation-container">
      <!-- 播放次数指示点 -->
      <view class="play-counter">
        <view class="dot {{playCount >= 1 ? 'active' : ''}}"></view>
        <view class="dot {{playCount >= 2 ? 'active' : ''}}"></view>
        <view class="dot {{playCount >= 3 ? 'active' : ''}}"></view>
      </view>

      <!-- 波浪动画 -->
      <view class="wave-container {{isPlaying ? 'playing' : ''}}">
        <view class="sine-wave-wrapper">
          <view class="sine-wave sine-wave1"></view>
          <view class="sine-wave sine-wave2"></view>
          <view class="sine-wave sine-wave3"></view>
          <view class="sine-wave sine-wave4"></view>
          <view class="sine-wave sine-wave5"></view>
          <view class="sine-wave sine-wave6"></view>
        </view>
      </view>
    </view>
    
    <!-- 控制按钮区域 - 放在右侧悬浮，上下排列 -->
    <view class="floating-controls" data-area="buttons">
      <!-- 播放控制按钮 -->
      <view class="control-button" data-type="play" catchtap="playWord">
        <image src="/images/icons/{{isPlaying ? '暂停选中.png' : '播放选中.png'}}" mode="aspectFit" class="control-icon"></image>
        <text class="button-text">{{isPlaying ? '暂停' : '播放'}}</text>
      </view>
      
      <!-- 结束听写按钮 -->
      <view class="control-button end-button" data-type="exit" catchtap="confirmExit">
        <image src="/images/icons/结束.png" mode="aspectFit" class="control-icon"></image>
        <text class="button-text">结束</text>
      </view>
    </view>
  </view>
</view> 